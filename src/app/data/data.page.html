<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css' integrity='sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ' crossorigin='anonymous'>
<body>
    <div class = "rtl">
        <h1>מבנים</h1>
        <div class="border">
        <form  #testForm="ngForm"  (ngSubmit)="saveData(testForm)"  ngNativeValidate>
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <div class="tooltip">
                            <input ngModel name="Building_name" required class=input #Building_name placeholder='שם המבנה' oninvalid="this.setCustomValidity('שדה חובה')" oninput="setCustomValidity('')"/>
                            <span class="tooltiptext">שם המבנה</span>
                        </div>
                        <div class="tooltip">
                            <input ngModel name="contact_name" required class=input #contact_name placeholder='שם איש קשר לשריון' oninvalid="this.setCustomValidity('שדה חובה')" oninput="setCustomValidity('')"/>
                            <span class="tooltiptext">שם איש קשר לשריון</span>
                        </div>
                    </ion-col>
                    <ion-col>
                        <div class="tooltip">
                            <select ngModel name="type_building" required class=input #type_building oninvalid="this.setCustomValidity('יש לבחור פריט מהרשימה')" oninput="setCustomValidity('')">
                                <option value="" disabled selected>אופי המבנה</option>
                                <option value="אולם מדורג" >אולם מדורג </option>
                                <option value="אולם שטוח">אולם שטוח</option>
                                <option value="חדר סדנא עם מקרן" >חדר סדנא עם מקרן</option>
                                <option value="חדר סדנא בלי מקרן">חדר סדנא בלי מקרן</option>
                            </select> 
                            <span class="tooltiptext">אופי המבנה</span>
                        </div>
                        <div class="tooltip">
                            <input ngModel type="tel" pattern="[0]{1}[0-9]{2}-[0-9]{7}" name="contact_phone" required class=input #contact_phone placeholder='טלפון איש קשר לשריון' oninvalid="this.setCustomValidity('שדה חובה')" oninput="setCustomValidity('')"/> 
                            <span class="tooltiptext">טלפון איש קשר לשריון</span>
                        </div>
                    </ion-col>
                    <ion-col>
                        <div class="tooltip">
                            <input ngModel name="Building_address" required class=input #Building_address placeholder='כתובת המבנה' oninvalid="this.setCustomValidity('שדה חובה')" oninput="setCustomValidity('')"/>
                            <span class="tooltiptext">כתובת המבנה</span>
                        </div>
                        <div class="tooltip">
                            <input type="email" ngModel name="mailcontact" required class=input #mailcontact placeholder='דוא"ל איש קשר לשריון ' oninvalid="this.setCustomValidity('')" oninput="setCustomValidity('')"/>
                            <span class="tooltiptext">דוא"ל איש קשר לשריון</span>
                        </div>
                    </ion-col>
                    <ion-col>
                        <div class="tooltip">
                            <input ngModel name="capacity" required class=input type="number" #capacity placeholder='קיבולת ' oninvalid="this.setCustomValidity('שדה חובה')" oninput="setCustomValidity('')"/>
                            <span class="tooltiptext">קיבולת</span>
                        </div>
                        <div class="tooltip">
                            <input class=input #comma placeholder='הערות נוספות' />
                            <span class="tooltiptext">הערות נוספות</span>
                        </div>
                    </ion-col>
                </ion-row>
            </ion-grid> 
            <button ion-button class="add_button" type="submit">יצירת טופס</button> 
            </form>
        </div>
            <button class="edit_button" (click)='edit_db()'>עדכון</button> 
            <div id="scrolltable">  
            <table id="data_table">
                <tr>
                <th>שם המבנה</th>
                <th>אופי המבנה</th>
                <th>כתובת המבנה</th>
                <th>קיבולת</th>
                <th>שם איש קשר לשריון</th>
                <th>טלפון איש קשר לשריון</th>
                <th>דוא"ל איש קשר לשריון</th>
                <th>הערות נוספות</th>
                <th>עריכה</th>
                <th>מחיקה</th>
             </tr>
                 
              <tr *ngFor='let doc of dataFromDatabase'> 
                <td> {{doc.Building_name}}</td> 
                <td>{{doc.type_building}}</td>
                <td>{{doc.Building_address}}</td>
                <td>{{doc.capacity}}</td>
                <td> {{doc.contact_name}}</td>
                <td>{{doc.contact_phone}}</td>
                <td>{{doc.mailcontact}}</td>
                <td>{{doc.comma}}</td>
                <td><i class= "fas fa-pen" (click)='edit(doc)' style="font-size:15px;margin-right: 23%;color:red;cursor: pointer;"></i></td>
                <td><i class="fas fa-trash-alt" (click)='delete(doc)' style="font-size:15px;margin-right: 23%;color:red;cursor: pointer;"></i></td>
            </tr>      
        </table>
        </div>
    </div>      
</body>